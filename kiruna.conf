{
	"Variables": {
		"NAME": "ewout-test",
		"REGION": "test",
		"DISCOVERY": "https://discovery.etcd.io/96e4a0e4c4b70136410e6fbdfbbaee3e",
		"DUMMY": "!3"
	},
	"Defaults": {
			"Environment": {
				"SUBLIMINL_STATIC_URL": "https://local.subliminl.com"
			}
	},
	"Services": {
		"etcd": {
			"HardDeploy": true,
			"Image": "subliminl/etcd",
			"Tag": "0.4.6",
			"Ports": {
				"4001/tcp": "4001",
				"7001/tcp": "7001"
			},
			"Volumes": {
				"/var/lib/etcd": "/home/ewout/.subliminl/etcd"
			},
			"Cmd": [ "-name", "${NAME}", "-addr", "${IP}:4001", "-peer-addr", "${IP}:7001", "-data-dir", "/var/lib/etcd", "-discovery", "${DISCOVERY}" ],
			"Health": [
				{ "Http": { "Port": "4001", "Ip": "${IP}" } }
			]
		},
		"mongo": {
			"HardDeploy": true,
			"Image": "progrium/ambassadord",
			"Tag": "latest",
			"PublishAllPorts": true,
			"Expose": [ "27017/tcp" ],
			"Environment": {
				"PORT": "27017"
			},
			"Cmd": ["${IP}:27017"]
		},
		"registrator": {
			"Image": "subliminl/registrator",
			"Tag": "latest",
			"Volumes": {
				"/var/run/docker.sock": "/var/run/docker.sock"
			},
			"Cmd": [ "-ip=${IP}", "etcd://etcd:4001/services/${REGION}/" ],
			"Dependencies": [ "etcd" ]
		},
		"load-balancer": {
			"HardDeploy": true,
			"Image": "load-balancer",
			"Tag": "latest",
			"Dependencies": [ "etcd" ],
			"PublishAllPorts": true,
			"Ports": {
				"80/tcp": "80",
				"443/tcp": "443"
			},
			"Volumes": {
				"/data": "/home/ewout/.subliminl/lb"
			}
		},
		"root-app": {
			"_Registry": "arvika-ssh:5000",
			"Image": "root-app",
			"Tag": "1.0.108",
			"PublishAllPorts": true,
			"Dependencies": [ "etcd", "mongo" ],
			"Enabled": true,
			"SettleTimeout": 20000
		},
		"beta-app": {
			"_Registry": "arvika-ssh:5000",
			"Image": "beta-app",
			"Tag": "1.0.2",
			"PublishAllPorts": true,
			"Dependencies": [ "etcd", "mongo" ],
			"Enabled": true,
			"SettleTimeout": 20001
		},
		"investors-app": {
			"_Registry": "arvika-ssh:5000",
			"Image": "investors-app",
			"Tag": "1.0.108",
			"PublishAllPorts": true,
			"Dependencies": [ "etcd", "mongo" ],
			"Enabled": true,
			"SettleTimeout": 20001
		}
	},
	"__Logging": {
		"Loggly": {
			"Level": "info",
			"SubDomain": "subliminl",
			"Token": "<<yourtoken>>",
			"Tags": ["kiruna"]
		}
	}
}
