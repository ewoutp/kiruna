{
	"Variables": {
		"NAME": "ewout-test",
		"REGION": "test",
		"DISCOVERY": "https://discovery.etcd.io/b6cef18345b3561376d2be1de0ceb692"
	},
	"Defaults": {
		"Environment": {
			"SUBLIMINL_URL": "https://local.subliminl.com",
			"SUBLIMINL_STATIC_URL": "https://local.subliminl.com",
            "SUBLIMINL_TEST_EMAIL_ADDRESS": "test@subliminl.com",
            "MONGODB_DB_HOST": "${IP}",
            "ETCD_PORT": "4001"
		}
	},
	"Registration": {
		"Host": "${IP}",
		"Port": "4001",
		"Ip": "${IP}",
		"Ttl": "36000",
		"Prefix": "/services/${REGION}/"
	},
	"Services": {
		"etcd": {
			"HardDeploy": true,
			"Image": "subliminl/etcd",
			"Tag": "0.4.6",
			"Ports": {
				"4001/tcp": "4001",
				"7001/tcp": "7001"
			},
			"Volumes": {
				"/var/lib/etcd": "${HOME}/.subliminl/etcd"
			},
			"Cmd": ["-name", "${NAME}", "-addr", "${IP}:4001", "-peer-addr", "${IP}:7001", "-data-dir", "/var/lib/etcd", "-discovery", "${DISCOVERY}"],
			"Health": [{
				"Http": {
					"Port": "4001/tcp",
					"Ip": "${IP}",
					"Path": "/v1/keys/"
				}
			}],
			"Register": false
		},
		"load-balancer": {
			"HardDeploy": true,
			"Image": "load-balancer",
			"Tag": "latest",
			"Dependencies": ["etcd"],
			"PublishAllPorts": true,
			"NetworkMode": "host",
			"Ports": {
				"80/tcp": "80",
				"443/tcp": "443"
			},
			"Volumes": {
				"/data": "/home/ewout/.subliminl/lb"
			},
			"Environment": {
				"ETCD_URL": "${IP}:4001"
			},
			"Register": false
		},
		"api-v1-app": {
			"_Registry": "arvika-ssh:5000",
			"Image": "api-v1-app",
			"Tag": "latest",
			"PublishAllPorts": true,
			"Dependencies": ["etcd"],
			"Enabled": true,
			"SettleTimeout": 20000,
			"Health": [{
				"Http": {
					"Port": "18109/tcp",
					"Ip": "${IP}",
					"Path": "/__status/check"
				}
			}]
		},
		"root-app": {
			"_Registry": "arvika-ssh:5000",
			"Image": "root-app",
			"Tag": "latest",
			"PublishAllPorts": true,
			"Dependencies": ["etcd"],
			"Enabled": true,
			"SettleTimeout": 20000,
			"Health": [{
				"Http": {
					"Port": "8080/tcp",
					"Ip": "${IP}",
					"Path": "/__status/check"
				}
			}]
		},
		"auth-app": {
			"_Registry": "arvika-ssh:5000",
			"Image": "auth-app",
			"Tag": "latest",
			"PublishAllPorts": true,
			"Dependencies": ["etcd"],
			"Enabled": true,
			"SettleTimeout": 20001,
			"Health": [{
				"Http": {
					"Port": "18084/tcp",
					"Ip": "${IP}",
					"Path": "/__status/check"
				}
			}]
		},
		"admin-app": {
			"_Registry": "arvika-ssh:5000",
			"Image": "admin-app",
			"Tag": "latest",
			"PublishAllPorts": true,
			"Dependencies": ["etcd"],
			"Enabled": true,
			"SettleTimeout": 20001,
			"Health": [{
				"Http": {
					"Port": "18081/tcp",
					"Ip": "${IP}",
					"Path": "/__status/check"
				}
			}],
			"Enabled": false
		},
		"beta-app": {
			"_Registry": "arvika-ssh:5000",
			"Image": "beta-app",
			"Tag": "latest",
			"PublishAllPorts": true,
			"Dependencies": ["etcd"],
			"Enabled": true,
			"SettleTimeout": 20001,
			"Health": [{
				"Http": {
					"Port": "18083/tcp",
					"Ip": "${IP}",
					"Path": "/__status/check"
				}
			}],
			"Enabled": true
		},
		"investors-app": {
			"_Registry": "arvika-ssh:5000",
			"Image": "investors-app",
			"Tag": "latest",
			"PublishAllPorts": true,
			"Dependencies": ["etcd"],
			"Enabled": true,
			"SettleTimeout": 20001,
			"Health": [{
				"Http": {
					"Port": "18082/tcp",
					"Ip": "${IP}",
					"Path": "/__status/check"
				}
			}],
			"Enabled": false
		},
		"optout-app": {
			"_Registry": "arvika-ssh:5000",
			"Image": "optout-app",
			"Tag": "latest",
			"PublishAllPorts": true,
			"Dependencies": ["etcd"],
			"Enabled": true,
			"SettleTimeout": 20001,
			"Health": [{
				"Http": {
					"Port": "18085/tcp",
					"Ip": "${IP}",
					"Path": "/__status/check"
				}
			}]
		},
		"users-app": {
			"_Registry": "arvika-ssh:5000",
			"Image": "users-app",
			"Tag": "latest",
			"PublishAllPorts": true,
			"Dependencies": ["etcd"],
			"Enabled": true,
			"SettleTimeout": 20002,
			"Health": [{
				"Http": {
					"Port": "18086/tcp",
					"Ip": "${IP}",
					"Path": "/__status/check"
				}
			}]
		}
	},
	"Logging": {
		"Console": {
			"Level": "info"
		},
		"__Loggly": {
			"Level": "info",
			"SubDomain": "subliminl",
			"Token": "<<yourtoken>>",
			"Tags": ["kiruna"]
		}
	}
}