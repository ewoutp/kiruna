{
	"Variables": {
		"NAME": "ewout-test",
		"REGION": "test",
		"DISCOVERY": "https://discovery.etcd.io/b6cef18345b3561376d2be1de0ceb692",
		"DUMMY": "!3"
	},
	"Defaults": {
			"Environment": {
				"SUBLIMINL_STATIC_URL": "https://local.subliminl.com"
			}
	},
	"Registration": {
		"Host": "${IP}",
		"Port": "4001",
		"Ip": "${IP}",
		"Ttl": "60",
		"Prefix": "/services/${REGION}/"
	},
	"Services": {
		"etcd": {
			"HardDeploy": true,
			"Image": "subliminl/etcd",
			"Tag": "0.4.6",
			"Ports": {
				"4001/tcp": "4001",
				"7001/tcp": "7001"
			},
			"Volumes": {
				"/var/lib/etcd": "/home/ewout/.subliminl/etcd"
			},
			"Cmd": [ "-name", "${NAME}", "-addr", "${IP}:4001", "-peer-addr", "${IP}:7001", "-data-dir", "/var/lib/etcd", "-discovery", "${DISCOVERY}" ],
			"Health": [
				{ "Http": { "Port": "4001", "Ip": "${IP}" } }
			],
			"Register": false
		},
		"mongo": {
			"HardDeploy": true,
			"Image": "progrium/ambassadord",
			"Tag": "latest",
			"PublishAllPorts": true,
			"Expose": [ "27017/tcp" ],
			"Environment": {
				"PORT": "27017"
			},
			"Cmd": ["${IP}:27017"],
			"Register": false
		},
		"load-balancer": {
			"HardDeploy": true,
			"Image": "load-balancer",
			"Tag": "latest",
			"Dependencies": [ "etcd" ],
			"PublishAllPorts": true,
			"NetworkMode": "host",
			"Ports": {
				"80/tcp": "80",
				"443/tcp": "443"
			},
			"Volumes": {
				"/data": "/home/ewout/.subliminl/lb"
			},
			"Environment": {
				"ETCD_URL": "${IP}:4001"
			},
			"Register": false
		},
		"root-app": {
			"_Registry": "arvika-ssh:5000",
			"Image": "root-app",
			"Tag": "1.0.108",
			"PublishAllPorts": true,
			"Dependencies": [ "etcd", "mongo" ],
			"Enabled": true,
			"SettleTimeout": 20000
		},
		"beta-app": {
			"Registry": "arvika-ssh:5000",
			"Image": "beta-app",
			"Tag": "1.0.7",
			"PublishAllPorts": true,
			"Dependencies": [ "etcd", "mongo" ],
			"Enabled": true,
			"SettleTimeout": 20001
		},
		"investors-app": {
			"_Registry": "arvika-ssh:5000",
			"Image": "investors-app",
			"Tag": "1.0.108",
			"PublishAllPorts": true,
			"Dependencies": [ "etcd", "mongo" ],
			"Enabled": true,
			"SettleTimeout": 20001
		}
	},
	"Logging": {
		"Console": {
			"Level": "info"
		},
		"__Loggly": {
			"Level": "info",
			"SubDomain": "subliminl",
			"Token": "<<yourtoken>>",
			"Tags": ["kiruna"]
		}
	}
}
